import { CircularProgress } from '@mui/material';
import React from 'react';
import { useEffect } from 'react';
import { useState } from 'react';
import 'chart.js/auto';
import { Line } from 'react-chartjs-2';

export function toTimestamp(strDate) {
	var datum = Date.parse(strDate);
	return datum / 1000;
}
const CoinRangeChart = () => {
	const [label, setLabel] = useState('Trade Snapshot');

	return (
		<Line
			data={{
				labels: suppliedData?.map((coin) => {
					let date = new Date(coin[0]);

					let time =
						date.getHours() > 12
							? `${date.getHours() - 12}:${date.getMinutes()} PM`
							: `${date.getHours()}:${date.getMinutes()} AM`;

					return suppliedData?.length < 300 ? time : date.toLocaleDateString();
				}),

				datasets: [
					{
						data: suppliedData?.map((coin) => coin[1]),
						label: label,
						borderColor: 'yellow',
						color: 'transparent',
					},
				],
			}}
			options={{
				maintainAspectRatio: false,
				elements: {
					point: {
						radius: 1,
					},
				},
				plugins: {
					legend: {
						display: true,
					},
				},
			}}
		/>
	);
};

export default CoinRangeChart;

const suppliedData = [
	[1654084938406, 31574.530663911097],
	[1654088441306, 31754.158452446623],
	[1654092056083, 31806.38826123828],
	[1654095752271, 31232.8094797136],
	[1654099453417, 30815.178709428124],
	[1654102967131, 30442.031183728213],
	[1654106594068, 30155.91451908987],
	[1654110096867, 30273.275884126182],
	[1654113750101, 30233.963431084034],
	[1654117412399, 29716.543458860087],
	[1654120946689, 29676.064111348973],
	[1654124500641, 29747.61453942649],
	[1654128103318, 29822.0722900913],
	[1654131665545, 29716.147918809107],
	[1654135372851, 29836.489897611857],
	[1654138927623, 29826.16891954389],
	[1654142544907, 29747.92696289637],
	[1654146159272, 29816.849605545012],
	[1654149742124, 29883.87978821354],
	[1654153278778, 29922.933011746394],
	[1654156859562, 29990.498230055488],
	[1654160762470, 29960.950636345005],
	[1654164156865, 29917.64578832305],
	[1654167786851, 30049.05622324846],
	[1654171338764, 30192.654823029014],
	[1654174967927, 30113.701016503393],
	[1654178517370, 29884.131130481448],
	[1654182122740, 29973.88361259791],
	[1654185608673, 30273.96128251687],
	[1654189389408, 30287.655572977405],
	[1654192941080, 30225.458436268458],
	[1654196531197, 30214.3114139195],
	[1654200210134, 30268.333153924184],
	[1654203712301, 30292.6718180732],
	[1654207371697, 30356.560544223827],
	[1654210959923, 30516.490648805055],
	[1654214582096, 30481.013996026013],
	[1654218127789, 30442.600466509168],
	[1654221789385, 30607.041608668525],
	[1654225400942, 30558.059434238643],
	[1654229034020, 30510.820736211568],
	[1654232419821, 30453.405170694747],
	[1654236117300, 30560.89656518738],
	[1654239694873, 30439.39852535882],
	[1654243364342, 30456.59220939045],
	[1654247203051, 30450.94248546586],
	[1654250513846, 30252.03688376298],
	[1654254041589, 29864.505025286606],
	[1654257666254, 29772.548626165146],
	[1654261312617, 29584.998497413177],
	[1654264943107, 29699.7807788456],
];
